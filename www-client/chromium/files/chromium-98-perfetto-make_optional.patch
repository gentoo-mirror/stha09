From 5c1be6fd5191f5cf486445254c527e97fb07ea92 Mon Sep 17 00:00:00 2001
From: Stephan Hartmann <stha09@googlemail.com>
Date: Mon, 29 Nov 2021 19:09:41 +0000
Subject: [PATCH] GCC: fix ambiguous call to make_optional

make_optional is defined in std and base namespaces.
---
 third_party/perfetto/src/base/base64.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/third_party/perfetto/src/base/base64.cc b/third_party/perfetto/src/base/base64.cc
index 437ad67..bb2e3c4 100644
--- a/third_party/perfetto/src/base/base64.cc
+++ b/third_party/perfetto/src/base/base64.cc
@@ -146,7 +146,7 @@ Optional<std::string> Base64Decode(const char* src, size_t src_size) {
 
   PERFETTO_CHECK(res <= static_cast<ssize_t>(dst.size()));
   dst.resize(static_cast<size_t>(res));
-  return make_optional(dst);
+  return base::make_optional(dst);
 }
 
 }  // namespace base
-- 
2.32.0

